import { useState, useRef, useEffect } from "react";
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { Badge } from "@/components/ui/badge";
import { ScrollArea } from "@/components/ui/scroll-area";
import { MessageCircle, Send, X, Bot, User, Lightbulb, FileText, MapPin, Sparkles, Search, Phone, Clock, Shield } from "lucide-react";
import { useAuth } from "@/hooks/use-auth";
import { useLanguage } from "@/hooks/use-language";

interface Message {
  id: string;
  content: string;
  isBot: boolean;
  timestamp: Date;
  suggestions?: string[];
  commands?: string[];
  isTyping?: boolean;
}

interface ChatbotProps {
  open: boolean;
  onOpenChange: (open: boolean) => void;
}

export function EnhancedChatbot({ open, onOpenChange }: ChatbotProps) {
  const { user } = useAuth();
  const { t, language } = useLanguage();
  const [messages, setMessages] = useState<Message[]>([]);
  const [input, setInput] = useState("");
  const [isTyping, setIsTyping] = useState(false);
  const messagesEndRef = useRef<HTMLDivElement>(null);

  const scrollToBottom = () => {
    messagesEndRef.current?.scrollIntoView({ behavior: "smooth" });
  };

  useEffect(() => {
    scrollToBottom();
  }, [messages]);

  useEffect(() => {
    if (open && messages.length === 0) {
      // Advanced greeting with user context
      const greeting: Message = {
        id: "welcome",
        content: getAdvancedGreeting(),
        isBot: true,
        timestamp: new Date(),
        suggestions: [
          "üèõÔ∏è –ö–∞–∫ –ø–æ–¥–∞—Ç—å –∂–∞–ª–æ–±—É?",
          "üìä –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å",
          "‚öñÔ∏è –ú–æ–∏ –ø—Ä–∞–≤–∞",
          "üö® –≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è",
          "üí° –ü–æ–¥–∞—Ç—å –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤—É",
          "üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã —Å–ª—É–∂–±"
        ],
        commands: [
          "/help - –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥",
          "/status - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å—ã",
          "/emergency - –≠–∫—Å—Ç—Ä–µ–Ω–Ω—ã–µ —Å–ª—É–∂–±—ã",
          "/legal - –ü—Ä–∞–≤–æ–≤–∞—è –ø–æ–º–æ—â—å"
        ]
      };
      setMessages([greeting]);
    }
  }, [open, user]);

  const getAdvancedGreeting = (): string => {
    const timeOfDay = new Date().getHours();
    let greeting = "";
    
    if (timeOfDay < 12) greeting = "–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ";
    else if (timeOfDay < 18) greeting = "–î–æ–±—Ä—ã–π –¥–µ–Ω—å";
    else greeting = "–î–æ–±—Ä—ã–π –≤–µ—á–µ—Ä";

    return `${greeting}, ${user?.firstName || "–≥—Ä–∞–∂–¥–∞–Ω–∏–Ω"}! üëã

ü§ñ **YoriqnomAI - –í–∞—à –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫**

–Ø –æ–±–ª–∞–¥–∞—é –æ–±—à–∏—Ä–Ω–æ–π –±–∞–∑–æ–π –∑–Ω–∞–Ω–∏–π –ø–æ:
‚Ä¢ –ó–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤—É –£–∑–±–µ–∫–∏—Å—Ç–∞–Ω–∞ (–óRU-445)
‚Ä¢ –ü—Ä–æ—Ü–µ–¥—É—Ä–∞–º –ø–æ–¥–∞—á–∏ –∂–∞–ª–æ–± –∏ –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤
‚Ä¢ –ö–æ–Ω—Ç–∞–∫—Ç–∞–º –≤—Å–µ—Ö –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–ª—É–∂–±
‚Ä¢ –ü—Ä–∞–≤–∞–º –≥—Ä–∞–∂–¥–∞–Ω –∏ –∑–∞—â–∏—Ç–µ –æ—Ç –∫–æ—Ä—Ä—É–ø—Ü–∏–∏

**üíé –ú–æ–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
üîç –ü–æ–∏—Å–∫ –≤ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π
‚ö° –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã (–Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è —Å /)
üéØ –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
üì± –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

–ó–∞–¥–∞–π—Ç–µ –ª—é–±–æ–π –≤–æ–ø—Ä–æ—Å –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Ç–µ–º—É –Ω–∏–∂–µ!`;
  };

  const generateAdvancedResponse = async (userMessage: string): Promise<Message> => {
    const message = userMessage.toLowerCase().trim();
    
    // Handle commands first
    if (message.startsWith('/')) {
      return handleCommand(message);
    }

    let response = "";
    let suggestions: string[] = [];
    let commands: string[] = [];

    // Enhanced AI-like responses with comprehensive knowledge base
    if (message.includes("–∂–∞–ª–æ–±") || message.includes("–æ–±—Ä–∞—â–µ–Ω") || message.includes("–ø–æ–¥–∞—Ç—å")) {
      response = `üèõÔ∏è **–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–∞—á–∏ –∂–∞–ª–æ–± Muloqot Plus**

**‚ö° –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è:**
–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –Ω—É–∂–Ω—ã–π –æ—Ä–≥–∞–Ω –Ω–∞ –æ—Å–Ω–æ–≤–µ:
‚Ä¢ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø—Ä–æ–±–ª–µ–º—ã
‚Ä¢ –ì–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–≥–æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è  
‚Ä¢ –°–ª–æ–∂–Ω–æ—Å—Ç–∏ –≤–æ–ø—Ä–æ—Å–∞
‚Ä¢ –ü—Ä–µ—Ü–µ–¥–µ–Ω—Ç–æ–≤ —Ä–µ—à–µ–Ω–∏—è

**üéØ –¢–∏–ø—ã –æ–±—Ä–∞—â–µ–Ω–∏–π:**
‚Ä¢ **–ñ–∞–ª–æ–±—ã** ‚Üí –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º (likes)
‚Ä¢ **–ò–Ω–∏—Ü–∏–∞—Ç–∏–≤—ã** ‚Üí –£–ª—É—á—à–µ–Ω–∏—è (voting system)
‚Ä¢ **–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è** ‚Üí –°–∏—Å—Ç–µ–º–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

**üìã –ü—Ä–æ—Ü–µ–¥—É—Ä–∞ (–ø–æ –óRU-445):**
1. **–ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è** - –í—ã–±–æ—Ä –∏–∑ 12 –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
2. **–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è** - –¢–æ—á–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ –º–µ—Å—Ç–∞ –ø—Ä–æ–±–ª–µ–º—ã
3. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –§–æ—Ç–æ/–≤–∏–¥–µ–æ –¥–æ 50–ú–ë –∫–∞–∂–¥—ã–π
4. **–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤:
   ‚Ä¢ –•–æ–∫–∏–º–∏—è—Ç —Ä–∞–π–æ–Ω–∞ (–º–µ—Å—Ç–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã)
   ‚Ä¢ –ü—Ä–æ—Ñ–∏–ª—å–Ω—ã–µ –º–∏–Ω–∏—Å—Ç–µ—Ä—Å—Ç–≤–∞ (–æ—Ç—Ä–∞—Å–ª–µ–≤—ã–µ)
   ‚Ä¢ –ê–Ω—Ç–∏–∫–æ—Ä—Ä—É–ø—Ü–∏–æ–Ω–Ω–æ–µ –∞–≥–µ–Ω—Ç—Å—Ç–≤–æ (–Ω–∞—Ä—É—à–µ–Ω–∏—è)

**‚è±Ô∏è –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ä–æ–∫–∏:**
‚Ä¢ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è: –º–≥–Ω–æ–≤–µ–Ω–Ω–æ
‚Ä¢ –ü–µ—Ä–≤–∏—á–Ω–∞—è –æ—Ü–µ–Ω–∫–∞: 24 —á–∞—Å–∞
‚Ä¢ –ü–µ—Ä–µ–¥–∞—á–∞ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—é: 72 —á–∞—Å–∞
‚Ä¢ –†–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–µ: 15 —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π
‚Ä¢ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ: 30 –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã—Ö –¥–Ω–µ–π

**üîî –£–º–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:**
–ü–æ–ª—É—á–∞–π—Ç–µ updates —á–µ—Ä–µ–∑ SMS, email, push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞.`;

      suggestions = [
        "üìã –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∂–∞–ª–æ–±",
        "üì∏ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ñ–æ—Ç–æ", 
        "‚è∞ –°—Ä–æ–∫–∏ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏—è",
        "üó∫Ô∏è –í—ã–±—Ä–∞—Ç—å —Ä–∞–π–æ–Ω",
        "üìû –≠–∫—Å—Ç—Ä–µ–Ω–Ω—ã–µ —Å–ª—É—á–∞–∏"
      ];
      commands = ["/categories", "/districts", "/emergency"];
    }
    else if (message.includes("—Å—Ç–∞—Ç—É—Å") || message.includes("–æ—Ç—Å–ª–µ–¥") || message.includes("–ø—Ä–æ–≤–µ—Ä–∏—Ç—å")) {
      response = `üìä **–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤**

**üéØ –°—Ç–∞—Ç—É—Å—ã –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:**
üî¥ **–ù–æ–≤–∞—è** (0-24—á) - –í –æ—á–µ—Ä–µ–¥–∏ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É
üü° **–ü—Ä–∏–Ω—è—Ç–æ** (1-3 –¥–Ω—è) - –ü—Ä–æ—Ö–æ–¥–∏—Ç –ø–µ—Ä–≤–∏—á–Ω—É—é –æ—Ü–µ–Ω–∫—É  
üîµ **–í —Ä–∞–±–æ—Ç–µ** (3-15 –¥–Ω–µ–π) - –ê–∫—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
üü¢ **–†–µ—à–µ–Ω–∞** - –ü—Ä–æ–±–ª–µ–º–∞ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∞ —Å –æ—Ç—á–µ—Ç–æ–º
üü† **–û—Ç–∫–ª–æ–Ω–µ–Ω–∞** - –° –¥–µ—Ç–∞–ª—å–Ω—ã–º –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ–º
‚ö™ **–¢—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–π** - –ù—É–∂–Ω–∞ –¥–æ—Ä–∞–±–æ—Ç–∫–∞

**üìà –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ –≤–∞—à–∏–º –æ–±—Ä–∞—â–µ–Ω–∏—è–º:**
‚Ä¢ –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è —Ä–µ—à–µ–Ω–∏—è –≤–∞—à–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤
‚Ä¢ –†–µ–π—Ç–∏–Ω–≥ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
‚Ä¢ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –≥–æ—Ä–æ–¥—Å–∫–∏–º–∏ –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è–º–∏
‚Ä¢ –ü—Ä–æ–≥–Ω–æ–∑ –≤—Ä–µ–º–µ–Ω–∏ —Ä–µ—à–µ–Ω–∏—è —Ç–µ–∫—É—â–∏—Ö

**üîç –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
‚Ä¢ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ QR-–∫–æ–¥
‚Ä¢ Email-–¥–∞–π–¥–∂–µ—Å—Ç—ã –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
‚Ä¢ SMS —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
‚Ä¢ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–º

**üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –æ—Ä–≥–∞–Ω–æ–≤:**
–í–∏–¥—å—Ç–µ –ø—É–±–ª–∏—á–Ω—É—é –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å –ø–æ:
‚Ä¢ –°—Ä–µ–¥–Ω–∏–º —Å—Ä–æ–∫–∞–º —Ä–µ—à–µ–Ω–∏—è
‚Ä¢ –ü—Ä–æ—Ü–µ–Ω—Ç—É —É—Å–ø–µ—à–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π
‚Ä¢ –†–µ–π—Ç–∏–Ω–≥—É —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –≥—Ä–∞–∂–¥–∞–Ω`;

      suggestions = [
        "üìà –ú–æ—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞",
        "üèõÔ∏è –†–µ–π—Ç–∏–Ω–≥ –æ—Ä–≥–∞–Ω–æ–≤",
        "‚è∞ –ü—Ä–æ–≥–Ω–æ–∑ —Ä–µ—à–µ–Ω–∏—è",
        "üì± –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è"
      ];
      commands = ["/mystats", "/tracking", "/notifications"];
    }
    else if (message.includes("–∫–∞—Ç–µ–≥–æ—Ä") || message.includes("—Ä–∞–∑–¥–µ–ª—ã") || message.includes("/categories")) {
      response = `üìã **–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è –∂–∞–ª–æ–±**

**üèóÔ∏è –ò–ù–§–†–ê–°–¢–†–£–ö–¢–£–†–ê –ò –ñ–ö–•:**
‚Ä¢ **–î–æ—Ä–æ–≥–∏** ‚Üí –Ø–º—ã, —Ä–∞–∑–º–µ—Ç–∫–∞, –æ—Å–≤–µ—â–µ–Ω–∏–µ (‚Üí –•–æ–∫–∏–º–∏—è—Ç + –ú–∏–Ω–∏—Å—Ç–µ—Ä—Å—Ç–≤–æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞)
‚Ä¢ **–ñ–ö–•** ‚Üí –û—Ç–æ–ø–ª–µ–Ω–∏–µ, –≤–æ–¥–∞, –≥–∞–∑, —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–æ (‚Üí –ö–æ–º–º—É–Ω–∞–ª—å–Ω—ã–µ —Å–ª—É–∂–±—ã)
‚Ä¢ **–ë–ª–∞–≥–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ** ‚Üí –ü–∞—Ä–∫–∏, —Å–∫–≤–µ—Ä—ã, –¥–µ—Ç—Å–∫–∏–µ –ø–ª–æ—â–∞–¥–∫–∏ (‚Üí –•–æ–∫–∏–º–∏—è—Ç)

**üöå –¢–†–ê–ù–°–ü–û–†–¢ –ò –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨:**
‚Ä¢ **–û–±—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç** ‚Üí –ú–∞—Ä—à—Ä—É—Ç—ã, –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ (‚Üí –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞)
‚Ä¢ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** ‚Üí –û—Å–≤–µ—â–µ–Ω–∏–µ, –≤–∏–¥–µ–æ–Ω–∞–±–ª—é–¥–µ–Ω–∏–µ (‚Üí –ú–í–î + –•–æ–∫–∏–º–∏—è—Ç)
‚Ä¢ **–î–æ—Ä–æ–∂–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** ‚Üí –°–≤–µ—Ç–æ—Ñ–æ—Ä—ã, –∑–Ω–∞–∫–∏ (‚Üí –ì–ê–ò)

**üè• –°–û–¶–ò–ê–õ–¨–ù–ê–Ø –°–§–ï–†–ê:**
‚Ä¢ **–ó–¥—Ä–∞–≤–æ–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ** ‚Üí –ü–æ–ª–∏–∫–ª–∏–Ω–∏–∫–∏, –±–æ–ª—å–Ω–∏—Ü—ã (‚Üí –ú–∏–Ω–∑–¥—Ä–∞–≤)
‚Ä¢ **–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ** ‚Üí –®–∫–æ–ª—ã, –¥–µ—Ç—Å–∞–¥—ã, –≤—É–∑—ã (‚Üí –ú–∏–Ω–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è)
‚Ä¢ **–°–æ—Ü–∏–∞–ª—å–Ω–∞—è –∑–∞—â–∏—Ç–∞** ‚Üí –ü–æ—Å–æ–±–∏—è, –ª—å–≥–æ—Ç—ã (‚Üí –ú–∏–Ω—Ç—Ä—É–¥–∞)

**üå± –≠–ö–û–õ–û–ì–ò–Ø –ò –ü–†–ê–í–ê:**
‚Ä¢ **–≠–∫–æ–ª–æ–≥–∏—è** ‚Üí –ó–∞–≥—Ä—è–∑–Ω–µ–Ω–∏–µ, –º—É—Å–æ—Ä, —à—É–º (‚Üí –ì–æ—Å–∫–æ–º—ç–∫–æ–ª–æ–≥–∏–∏)
‚Ä¢ **–ü—Ä–∞–≤–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–π** ‚Üí –ù–µ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã/—É—Å–ª—É–≥–∏ (‚Üí –ì–æ—Å—Å—Ç–∞–Ω–¥–∞—Ä—Ç)
‚Ä¢ **–ö–æ—Ä—Ä—É–ø—Ü–∏—è** ‚Üí –í—ã–º–æ–≥–∞—Ç–µ–ª—å—Å—Ç–≤–æ, –≤–∑—è—Ç–∫–∏ (‚Üí –ê–Ω—Ç–∏–∫–æ—Ä—Ä—É–ø—Ü–∏–æ–Ω–Ω–æ–µ –∞–≥–µ–Ω—Ç—Å—Ç–≤–æ)

**üéØ AI-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π:**
–û–ø–∏—à–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º—É, –∏ —è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–¥–ª–æ–∂—É –Ω–∞–∏–±–æ–ª–µ–µ –ø–æ–¥—Ö–æ–¥—è—â—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞ —Ç—ã—Å—è—á –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤.`;

      suggestions = [
        "üîç –ü–æ–º–æ—á—å –≤—ã–±—Ä–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é",
        "üèõÔ∏è –ö—É–¥–∞ –∏–¥–µ—Ç –∂–∞–ª–æ–±–∞?",
        "üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º",
        "‚ö° –°–∞–º—ã–µ –±—ã—Å—Ç—Ä—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏"
      ];
      commands = ["/suggest-category", "/routing", "/stats"];
    }
    else if (message.includes("—Å—Ä–æ–∫–∏") || message.includes("–≤—Ä–µ–º—è") || message.includes("–¥–æ–ª–≥–æ") || message.includes("/timing")) {
      response = `‚è∞ **–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å—Ä–æ–∫–æ–≤ (–óRU-445)**

**üìÖ –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–∫–æ–Ω–æ–º —Å—Ä–æ–∫–∏:**
‚Ä¢ **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è**: –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚Ä¢ **–ü–µ—Ä–≤–∏—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞**: 24 —á–∞—Å–∞
‚Ä¢ **–ü–µ—Ä–µ–¥–∞—á–∞ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—é**: 72 —á–∞—Å–∞ (3 —Ä–∞–±–æ—á–∏—Ö –¥–Ω—è)
‚Ä¢ **–†–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–µ**: 15 —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π
‚Ä¢ **–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã**: 30 –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã—Ö –¥–Ω–µ–π

**‚ö° –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (—É—Å–∫–æ—Ä–µ–Ω–Ω–æ–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–µ):**
üö® **24 —á–∞—Å–∞**: –£–≥—Ä–æ–∑–∞ –∂–∏–∑–Ω–∏, –∞–≤–∞—Ä–∏–∏, –ß–°
üî• **3 –¥–Ω—è**: –û—Ç–∫–ª—é—á–µ–Ω–∏—è –≤–æ–¥—ã/–≥–∞–∑–∞/—ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–∞
‚ö†Ô∏è **5 –¥–Ω–µ–π**: –ù–∞—Ä—É—à–µ–Ω–∏—è –≤ —à–∫–æ–ª–∞—Ö/–±–æ–ª—å–Ω–∏—Ü–∞—Ö

**üìä –†–µ–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≥–æ—Ä–æ–¥—É:**
‚Ä¢ –°—Ä–µ–¥–Ω–∏–π —Å—Ä–æ–∫ —Ä–µ—à–µ–Ω–∏—è: 12 –¥–Ω–µ–π
‚Ä¢ –õ—É—á—à–∏–µ –æ—Ä–≥–∞–Ω—ã: –•–æ–∫–∏–º–∏—è—Ç –Æ–Ω—É—Å–∞–±–∞–¥—Å–∫–æ–≥–æ —Ä–∞–π–æ–Ω–∞ (8 –¥–Ω–µ–π)
‚Ä¢ –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ –∑–æ–Ω—ã: –ñ–ö–• (22 –¥–Ω—è –≤ —Å—Ä–µ–¥–Ω–µ–º)

**üéØ –§–∞–∫—Ç–æ—Ä—ã, –≤–ª–∏—è—é—â–∏–µ –Ω–∞ —Å—Ä–æ–∫–∏:**
‚Ä¢ –°–ª–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã (—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —ç–∫—Å–ø–µ—Ä—Ç–∏–∑–∞)
‚Ä¢ –ú–µ–∂–≤–µ–¥–æ–º—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è
‚Ä¢ –ë—é–¥–∂–µ—Ç–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
‚Ä¢ –°–µ–∑–æ–Ω–Ω–æ—Å—Ç—å (–∑–∏–º–æ–π –ñ–ö–• –¥–æ–ª—å—à–µ)
‚Ä¢ –ó–∞–≥—Ä—É–∂–µ–Ω–Ω–æ—Å—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –æ—Ä–≥–∞–Ω–∞

**üí° –ö–∞–∫ —É—Å–∫–æ—Ä–∏—Ç—å —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–µ:**
‚Ä¢ –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞–º–∏
‚Ä¢ –ú–∞—Å—Å–æ–≤–æ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã (–∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç –º–Ω–æ–≥–∏—Ö)
‚Ä¢ –ú–µ–¥–∏–π–Ω–∞—è –æ–≥–ª–∞—Å–∫–∞ —á–µ—Ä–µ–∑ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É
‚Ä¢ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–µ–ø—É—Ç–∞—Ç–æ–≤/–∞–∫—Ç–∏–≤–∏—Å—Ç–æ–≤

**‚öñÔ∏è –ï—Å–ª–∏ —Å—Ä–æ–∫–∏ –Ω–∞—Ä—É—à–µ–Ω—ã:**
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —ç—Å–∫–∞–ª–∞—Ü–∏—è –≤ –ø—Ä–æ–∫—É—Ä–∞—Ç—É—Ä—É —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É.`;

      suggestions = [
        "üìà –ü—Ä–æ–≥–Ω–æ–∑ –¥–ª—è –º–æ–µ–≥–æ —Å–ª—É—á–∞—è",
        "üèõÔ∏è –†–µ–π—Ç–∏–Ω–≥ –æ—Ä–≥–∞–Ω–æ–≤ –ø–æ —Å–∫–æ—Ä–æ—Å—Ç–∏",
        "üö® –ü–æ–¥–∞—Ç—å –∫–∞–∫ —ç–∫—Å—Ç—Ä–µ–Ω–Ω–æ–µ",
        "‚öñÔ∏è –ñ–∞–ª–æ–±–∞ –Ω–∞ –ø—Ä–æ—Å—Ä–æ—á–∫—É"
      ];
      commands = ["/predict", "/rankings", "/escalate"];
    }
    else if (message.includes("–∏–Ω–∏—Ü–∏–∞—Ç–∏–≤") || message.includes("–ø—Ä–µ–¥–ª–æ–∂–µ–Ω") || message.includes("–∏–¥–µ—è") || message.includes("–≥–æ–ª–æ—Å–æ–≤–∞–Ω")) {
      response = `üí° **–°–∏—Å—Ç–µ–º–∞ –≥—Ä–∞–∂–¥–∞–Ω—Å–∫–∏—Ö –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤**

**üó≥Ô∏è –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è:**
‚Ä¢ **–ê–ª–≥–æ—Ä–∏—Ç–º —É—á–µ—Ç–∞ –≥–æ–ª–æ—Å–æ–≤**: –í–µ—Å –≥–æ–ª–æ—Å–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–µ–ø—É—Ç–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚Ä¢ **–ó–∞—â–∏—Ç–∞ –æ—Ç –Ω–∞–∫—Ä—É—Ç–∫–∏**: AI-–∞–Ω–∞–ª–∏–∑ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏  
‚Ä¢ **–ì–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∞—è –ø—Ä–∏–≤—è–∑–∫–∞**: –ñ–∏—Ç–µ–ª–∏ —Ä–∞–π–æ–Ω–∞ –≥–æ–ª–æ—Å—É—é—Ç —Å –±–æ–ª—å—à–∏–º –≤–µ—Å–æ–º
‚Ä¢ **–¢–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —ç–∫—Å–ø–µ—Ä—Ç–∏–∑–∞**: –ì–æ–ª–æ—Å–∞ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤ –≤–µ—Å—è—Ç –±–æ–ª—å—à–µ

**üìã –£–º–Ω–∞—è –ø–æ–¥–∞—á–∞ –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤:**
1. **AI-–∞–Ω–∞–ª–∏–∑ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ—Å—Ç–∏** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –¥—É–±–ª–∏–∫–∞—Ç—ã
2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ü–µ–Ω–∫–∞ —Ä–µ–∞–ª–∏–∑—É–µ–º–æ—Å—Ç–∏** - –∞–Ω–∞–ª–∏–∑ –±—é–¥–∂–µ—Ç–∞ –∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
3. **–ü–æ–¥–±–æ—Ä –∞–Ω–∞–ª–æ–≥–æ–≤** - –ø—Ä–∏–º–µ—Ä—ã —É—Å–ø–µ—à–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π
4. **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é** - —Å–æ–≤–µ—Ç—ã –ø–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—é

**üèÜ –ü–æ—Ä–æ–≥–∏ –¥–ª—è —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏—è:**
‚Ä¢ **100+ –≥–æ–ª–æ—Å–æ–≤** ‚Üí –†–∞–π–æ–Ω–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å (—Ö–æ–∫–∏–º–∏—è—Ç)
‚Ä¢ **500+ –≥–æ–ª–æ—Å–æ–≤** ‚Üí –ì–æ—Ä–æ–¥—Å–∫–æ–π —É—Ä–æ–≤–µ–Ω—å (–º—ç—Ä–∏—è)  
‚Ä¢ **1000+ –≥–æ–ª–æ—Å–æ–≤** ‚Üí –û–±–ª–∞—Å—Ç–Ω–æ–π —É—Ä–æ–≤–µ–Ω—å
‚Ä¢ **5000+ –≥–æ–ª–æ—Å–æ–≤** ‚Üí –†–µ—Å–ø—É–±–ª–∏–∫–∞–Ω—Å–∫–∏–π —É—Ä–æ–≤–µ–Ω—å

**üìà –£—Å–ø–µ—à–Ω—ã–µ –∫–µ–π—Å—ã –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ:**
‚Ä¢ –î–µ—Ç—Å–∫–∞—è –ø–ª–æ—â–∞–¥–∫–∞ –Ω–∞ –ß–∏–ª–∞–Ω–∑–∞—Ä–µ: 234 –≥–æ–ª–æ—Å–∞ ‚Üí —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∑–∞ 3 –º–µ—Å—è—Ü–∞
‚Ä¢ –°–≤–µ—Ç–æ—Ñ–æ—Ä –≤–æ–∑–ª–µ —à–∫–æ–ª—ã ‚Ññ47: 567 –≥–æ–ª–æ—Å–æ–≤ ‚Üí —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∑–∞ –º–µ—Å—è—Ü
‚Ä¢ –ê–≤—Ç–æ–±—É—Å–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç –Ø–Ω–≥–∏—Ö–∞–µ—Ç-–¶–µ–Ω—Ç—Ä: 1,200 –≥–æ–ª–æ—Å–æ–≤ ‚Üí –∑–∞–ø—É—â–µ–Ω

**üéØ AI-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è —É—Å–ø–µ—Ö–∞:**
‚Ä¢ –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ (–∞–Ω–∞–ª–∏–∑ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏)
‚Ä¢ –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –¥–ª—è –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏—è –≤–Ω–∏–º–∞–Ω–∏—è
‚Ä¢ –ü–æ—Ö–æ–∂–∏–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã –¥–ª—è –º–æ—Ç–∏–≤–∞—Ü–∏–∏
‚Ä¢ –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —Å–æ—é–∑–Ω–∏–∫–∏ –∏ —ç–∫—Å–ø–µ—Ä—Ç—ã

**üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –≤–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç–∏:**
–í–∏–¥—å—Ç–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:
‚Ä¢ –ì–µ–æ–≥—Ä–∞—Ñ–∏—è –≥–æ–ª–æ—Å—É—é—â–∏—Ö
‚Ä¢ –î–µ–º–æ–≥—Ä–∞—Ñ–∏—é –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏—Ö
‚Ä¢ –¢—Ä–µ–Ω–¥—ã –ø–æ –≤—Ä–µ–º–µ–Ω–∏
‚Ä¢ –ü—Ä–æ–≥–Ω–æ–∑ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –ø–æ—Ä–æ–≥–æ–≤`;

      suggestions = [
        "‚úçÔ∏è –ü–æ–¥–∞—Ç—å –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤—É",
        "üèÜ –¢–æ–ø –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤",
        "üìä –ú–æ—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–π",
        "üí° –ò–¥–µ–∏ –¥–ª—è —Ä–∞–π–æ–Ω–∞"
      ];
      commands = ["/create-initiative", "/top-initiatives", "/my-votes"];
    }
    else if (message.includes("–ø—Ä–∞–≤–∞") || message.includes("–∑–∞–∫–æ–Ω") || message.includes("—é—Ä–∏–¥–∏—á") || message.includes("/legal")) {
      response = `‚öñÔ∏è **–ü—Ä–∞–≤–æ–≤–∞—è –±–∞–∑–∞ –∏ –∑–∞—â–∏—Ç–∞ –ø—Ä–∞–≤ –≥—Ä–∞–∂–¥–∞–Ω**

**üìú –ù–æ—Ä–º–∞—Ç–∏–≤–Ω–æ-–ø—Ä–∞–≤–æ–≤–∞—è –æ—Å–Ω–æ–≤–∞:**
‚Ä¢ **–ó–†–£–∑ ‚Ññ–óRU-445** "–û–± –æ–±—Ä–∞—â–µ–Ω–∏—è—Ö –≥—Ä–∞–∂–¥–∞–Ω" - –æ—Å–Ω–æ–≤–Ω–æ–π –∑–∞–∫–æ–Ω
‚Ä¢ **–ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ö–ú ‚Ññ234** –æ —Ü–∏—Ñ—Ä–æ–≤–∏–∑–∞—Ü–∏–∏ –≥–æ—Å—É—Å–ª—É–≥
‚Ä¢ **–£–∫–∞–∑ –ü—Ä–µ–∑–∏–¥–µ–Ω—Ç–∞ –£–ü-6024** –æ–± –æ—Ç–∫—Ä—ã—Ç–æ—Å—Ç–∏ –≥–æ—Å—É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
‚Ä¢ **–ó–∞–∫–æ–Ω "–û –ø—Ä–æ—Ç–∏–≤–æ–¥–µ–π—Å—Ç–≤–∏–∏ –∫–æ—Ä—Ä—É–ø—Ü–∏–∏"**

**üõ°Ô∏è –í–∞—à–∏ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–∞–≤–∞:**
‚Ä¢ **–ü—Ä–∞–≤–æ –Ω–∞ –æ—Ç–≤–µ—Ç** –≤ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Å—Ä–æ–∫–∏ (15 –¥–Ω–µ–π)
‚Ä¢ **–ü—Ä–∞–≤–æ –Ω–∞ –æ–±–∂–∞–ª–æ–≤–∞–Ω–∏–µ** —Ä–µ—à–µ–Ω–∏–π –≤ –≤—ã—à–µ—Å—Ç–æ—è—â–∏—Ö –æ—Ä–≥–∞–Ω–∞—Ö
‚Ä¢ **–ü—Ä–∞–≤–æ –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏** –æ —Ö–æ–¥–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏—è
‚Ä¢ **–ó–∞—â–∏—Ç–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö** —Å–æ–≥–ª–∞—Å–Ω–æ –ó–†–£–∑ "–û –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö"
‚Ä¢ **–ü—Ä–∞–≤–æ –Ω–∞ –∞–Ω–æ–Ω–∏–º–Ω–æ—Å—Ç—å** –ø—Ä–∏ —Å–æ–æ–±—â–µ–Ω–∏–∏ –æ –∫–æ—Ä—Ä—É–ø—Ü–∏–∏

**‚ö†Ô∏è –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –¥–æ–ª–∂–Ω–æ—Å—Ç–Ω—ã—Ö –ª–∏—Ü:**
‚Ä¢ **–î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞—Ä–Ω–∞—è** - –∑–∞ –Ω–µ—Å–≤–æ–µ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç
‚Ä¢ **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è** - —à—Ç—Ä–∞—Ñ 3-5 –ú–†–ó–ü –∑–∞ —Ñ–æ—Ä–º–∞–ª—å–Ω–æ–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–µ
‚Ä¢ **–£–≥–æ–ª–æ–≤–Ω–∞—è** - –ø–æ —Å—Ç.205,206,207 –£–ö –∑–∞ –∫–æ—Ä—Ä—É–ø—Ü–∏—é

**üîç –ú–µ—Ö–∞–Ω–∏–∑–º—ã –∑–∞—â–∏—Ç—ã –ø—Ä–∞–≤:**
‚Ä¢ **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–æ–µ –æ–±–∂–∞–ª–æ–≤–∞–Ω–∏–µ** - –≤ –≤—ã—à–µ—Å—Ç–æ—è—â–∏–π –æ—Ä–≥–∞–Ω
‚Ä¢ **–°—É–¥–µ–±–Ω–æ–µ –æ–±–∂–∞–ª–æ–≤–∞–Ω–∏–µ** - –≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–æ–º —Å—É–¥–µ
‚Ä¢ **–ü—Ä–æ–∫—É—Ä–æ—Ä—Å–∫–æ–µ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –Ω–∞–¥–∑–æ—Ä –∑–∞ –∑–∞–∫–æ–Ω–Ω–æ—Å—Ç—å—é
‚Ä¢ **–û–º–±—É–¥—Å–º–µ–Ω** - –∑–∞—â–∏—Ç–∞ –∫–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏–æ–Ω–Ω—ã—Ö –ø—Ä–∞–≤

**üìû –ì–æ—Ä—è—á–∏–µ –ª–∏–Ω–∏–∏ –ø—Ä–∞–≤–æ–≤–æ–π –ø–æ–º–æ—â–∏:**
‚Ä¢ **–¶–µ–Ω—Ç—Ä –ø—Ä–∞–≤–æ–≤–æ–π –ø–æ–º–æ—â–∏**: 1007 (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
‚Ä¢ **–ü—Ä–æ–∫—É—Ä–∞—Ç—É—Ä–∞**: 1003
‚Ä¢ **–û–º–±—É–¥—Å–º–µ–Ω**: +998 71 233-34-24
‚Ä¢ **–ê–Ω—Ç–∏–∫–æ—Ä—Ä—É–ø—Ü–∏–æ–Ω–Ω–æ–µ –∞–≥–µ–Ω—Ç—Å—Ç–≤–æ**: 1005

**üíº –ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è —é—Ä–∏–¥–∏—á–µ—Å–∫–∞—è –ø–æ–º–æ—â—å:**
‚Ä¢ –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –ø–æ –≤–æ–ø—Ä–æ—Å–∞–º –ñ–ö–•, —Ç—Ä—É–¥–æ–≤—ã–º, —Å–µ–º–µ–π–Ω—ã–º
‚Ä¢ –ü–æ–º–æ—â—å –≤ —Å–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ –∂–∞–ª–æ–± –∏ –∑–∞—è–≤–ª–µ–Ω–∏–π
‚Ä¢ –ü—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–æ –≤ —Å—É–¥–µ –¥–ª—è —Å–æ—Ü–∏–∞–ª—å–Ω–æ –Ω–µ–∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö
‚Ä¢ –ú–µ–¥–∏–∞—Ü–∏—è –≤ —Å–ø–æ—Ä–∞—Ö —Å –≥–æ—Å–æ—Ä–≥–∞–Ω–∞–º–∏`;

      suggestions = [
        "üìû –≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è –ø—Ä–∞–≤–æ–≤–∞—è –ø–æ–º–æ—â—å",
        "üìù –û–±—Ä–∞–∑—Ü—ã –∂–∞–ª–æ–±",
        "‚öñÔ∏è –ö–∞–∫ –æ–±–∂–∞–ª–æ–≤–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ",
        "üö® –°–æ–æ–±—â–∏—Ç—å –æ –∫–æ—Ä—Ä—É–ø—Ü–∏–∏"
      ];
      commands = ["/emergency-legal", "/templates", "/appeal", "/report-corruption"];
    }
    else if (message.includes("–∫–æ—Ä—Ä—É–ø—Ü") || message.includes("–≤–∑—è—Ç–∫") || message.includes("–≤—ã–º–æ–≥–∞—Ç") || message.includes("/corruption")) {
      response = `üö® **–°–∏—Å—Ç–µ–º–∞ –±–æ—Ä—å–±—ã —Å –∫–æ—Ä—Ä—É–ø—Ü–∏–µ–π**

**‚ö†Ô∏è –ü—Ä–∏–∑–Ω–∞–∫–∏ –∫–æ—Ä—Ä—É–ø—Ü–∏–æ–Ω–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π:**
‚Ä¢ **–ü—Ä—è–º–æ–µ –≤—ã–º–æ–≥–∞—Ç–µ–ª—å—Å—Ç–≤–æ** –¥–µ–Ω–µ–≥, –ø–æ–¥–∞—Ä–∫–æ–≤, —É—Å–ª—É–≥
‚Ä¢ **–ó–∞—Ç—è–≥–∏–≤–∞–Ω–∏–µ —Ä–µ—à–µ–Ω–∏–π** –±–µ–∑ –æ–±—ä–µ–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–∏—á–∏–Ω
‚Ä¢ **–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ –Ω–µ–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤** –∏–ª–∏ —Å–ø—Ä–∞–≤–æ–∫
‚Ä¢ **–°–æ–∑–¥–∞–Ω–∏–µ –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π** –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —É—Å–ª—É–≥
‚Ä¢ **–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ "—É—Å–∫–æ—Ä–∏—Ç—å –∑–∞ –¥–µ–Ω—å–≥–∏"** –∑–∞–∫–æ–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã

**üìû –ö—É–¥–∞ –æ–±—Ä–∞—â–∞—Ç—å—Å—è –ù–ï–ú–ï–î–õ–ï–ù–ù–û:**
‚Ä¢ **–ê–Ω—Ç–∏–∫–æ—Ä—Ä—É–ø—Ü–∏–æ–Ω–Ω–æ–µ –∞–≥–µ–Ω—Ç—Å—Ç–≤–æ**: 1005 (–∫—Ä—É–≥–ª–æ—Å—É—Ç–æ—á–Ω–æ)
‚Ä¢ **–ì–µ–Ω–ø—Ä–æ–∫—É—Ä–∞—Ç—É—Ä–∞**: 1003
‚Ä¢ **–ì–æ—Ä—è—á–∞—è –ª–∏–Ω–∏—è –ü—Ä–µ–∑–∏–¥–µ–Ω—Ç–∞**: 1001
‚Ä¢ **–°–ø–µ—Ü—Å–ª—É–∂–±–∞ –ø–æ –±–æ—Ä—å–±–µ —Å –∫–æ—Ä—Ä—É–ø—Ü–∏–µ–π**: 1007

**üì± –ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—Ä—É—à–µ–Ω–∏–µ:**
1. **–ê—É–¥–∏–æ/–≤–∏–¥–µ–æ–∑–∞–ø–∏—Å—å** (—Å–∫—Ä—ã—Ç–æ, –µ—Å–ª–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ)
2. **–ü–µ—Ä–µ–ø–∏—Å–∫–∞ –≤ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞—Ö** - —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç—ã
3. **–°–≤–∏–¥–µ—Ç–µ–ª–∏** - –ø–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç—ã
4. **–î–æ–∫—É–º–µ–Ω—Ç—ã** - —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è, –∫–≤–∏—Ç–∞–Ω—Ü–∏–∏, —Å–ø—Ä–∞–≤–∫–∏
5. **–¢–æ—á–Ω–æ–µ –≤—Ä–µ–º—è –∏ –º–µ—Å—Ç–æ** –ø—Ä–æ–∏—Å—à–µ—Å—Ç–≤–∏—è

**üõ°Ô∏è –ó–∞—â–∏—Ç–∞ –∑–∞—è–≤–∏—Ç–µ–ª–µ–π:**
‚Ä¢ **–ê–Ω–æ–Ω–∏–º–Ω–æ—Å—Ç—å –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞** –∑–∞–∫–æ–Ω–æ–º
‚Ä¢ **–ó–∞—â–∏—Ç–∞ —Å–≤–∏–¥–µ—Ç–µ–ª–µ–π** –ø–æ –ø—Ä–æ–≥—Ä–∞–º–º–µ –≥–æ—Å–∑–∞—â–∏—Ç—ã
‚Ä¢ **–í–æ–∑–º–µ—â–µ–Ω–∏–µ —É—â–µ—Ä–±–∞** –ø—Ä–∏ –¥–æ–∫–∞–∑–∞–Ω–Ω–æ—Å—Ç–∏ —Ñ–∞–∫—Ç–∞
‚Ä¢ **–ù–µ–ø—Ä–∏–∫–æ—Å–Ω–æ–≤–µ–Ω–Ω–æ—Å—Ç—å** –æ—Ç –ø—Ä–µ—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π

**‚ö° –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∫–∞–Ω–∞–ª—ã –≤ Muloqot Plus:**
‚Ä¢ **–ö–Ω–æ–ø–∫–∞ —ç–∫—Å—Ç—Ä–µ–Ω–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è** –æ –∫–æ—Ä—Ä—É–ø—Ü–∏–∏
‚Ä¢ **–ê–Ω–æ–Ω–∏–º–Ω–∞—è –ø–æ–¥–∞—á–∞** —á–µ—Ä–µ–∑ –∑–∞—â–∏—â–µ–Ω–Ω—ã–µ –∫–∞–Ω–∞–ª—ã
‚Ä¢ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ–¥–∞—á–∞** –≤ –∞–Ω—Ç–∏–∫–æ—Ä—Ä—É–ø—Ü–∏–æ–Ω–Ω—ã–µ –æ—Ä–≥–∞–Ω—ã
‚Ä¢ **–°—Ç–∞—Ç—É—Å-—Ç—Ä–µ–∫–∏–Ω–≥** —Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è

**üí∞ –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ –∫–æ—Ä—Ä—É–ø—Ü–∏—é:**
‚Ä¢ **–ü–æ–ª—É—á–µ–Ω–∏–µ –≤–∑—è—Ç–∫–∏**: 5-10 –ª–µ—Ç –ª–∏—à–µ–Ω–∏—è —Å–≤–æ–±–æ–¥—ã
‚Ä¢ **–í—ã–º–æ–≥–∞—Ç–µ–ª—å—Å—Ç–≤–æ**: 7-12 –ª–µ—Ç + –∫–æ–Ω—Ñ–∏—Å–∫–∞—Ü–∏—è –∏–º—É—â–µ—Å—Ç–≤–∞
‚Ä¢ **–°–ª—É–∂–µ–±–Ω—ã–π –ø–æ–¥–ª–æ–≥**: —à—Ç—Ä–∞—Ñ 50-100 –ú–†–ó–ü
‚Ä¢ **–ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –ø–æ–ª–Ω–æ–º–æ—á–∏–π**: 3-8 –ª–µ—Ç

**üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–æ—Ä—å–±—ã:**
‚Ä¢ –ó–∞ 2024 –≥–æ–¥: 1,247 –≤–æ–∑–±—É–∂–¥–µ–Ω–Ω—ã—Ö –¥–µ–ª
‚Ä¢ –í–æ–∑–º–µ—â–µ–Ω–æ —É—â–µ—Ä–±–∞: 45 –º–ª—Ä–¥ —Å—É–º
‚Ä¢ –°—Ä–µ–¥–Ω–∏–π —Å—Ä–æ–∫ —Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è: 2 –º–µ—Å—è—Ü–∞`;

      suggestions = [
        "üî• –°—Ä–æ—á–Ω–æ —Å–æ–æ–±—â–∏—Ç—å –æ –∫–æ—Ä—Ä—É–ø—Ü–∏–∏",
        "üì± –ö–∞–∫ –∑–∞–ø–∏—Å–∞—Ç—å –Ω–∞—Ä—É—à–µ–Ω–∏–µ",
        "üõ°Ô∏è –ì–∞—Ä–∞–Ω—Ç–∏–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏",
        "üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ä–µ–≥–∏–æ–Ω—É"
      ];
      commands = ["/report-now", "/record-guide", "/safety", "/corruption-stats"];
    }
    else if (message.includes("/emergency") || message.includes("—ç–∫—Å—Ç—Ä–µ–Ω") || message.includes("—Å—Ä–æ—á–Ω–æ") || message.includes("–∞–≤–∞—Ä–∏")) {
      response = `üö® **–≠–ö–°–¢–†–ï–ù–ù–´–ï –°–õ–£–ñ–ë–´ –ò –ö–û–ù–¢–ê–ö–¢–´**

**‚ö° –°–õ–£–ñ–ë–´ –°–ü–ê–°–ï–ù–ò–Ø:**
‚Ä¢ **101** - –ü–æ–∂–∞—Ä–Ω–∞—è —Å–ª—É–∂–±–∞
‚Ä¢ **102** - –ü–æ–ª–∏—Ü–∏—è  
‚Ä¢ **103** - –°–∫–æ—Ä–∞—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è –ø–æ–º–æ—â—å
‚Ä¢ **104** - –ê–≤–∞—Ä–∏–π–Ω–∞—è –≥–∞–∑–æ–≤–∞—è —Å–ª—É–∂–±–∞

**üèõÔ∏è –ì–û–°–£–î–ê–†–°–¢–í–ï–ù–ù–´–ï –ì–û–†–Ø–ß–ò–ï –õ–ò–ù–ò–ò:**
‚Ä¢ **1001** - –ü—Ä–∏–µ–º–Ω–∞—è –ü—Ä–µ–∑–∏–¥–µ–Ω—Ç–∞ (–∫—Ä—É–≥–ª–æ—Å—É—Ç–æ—á–Ω–æ)
‚Ä¢ **1003** - –ì–µ–Ω–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–∫—É—Ä–∞—Ç—É—Ä–∞
‚Ä¢ **1005** - –ê–Ω—Ç–∏–∫–æ—Ä—Ä—É–ø—Ü–∏–æ–Ω–Ω–æ–µ –∞–≥–µ–Ω—Ç—Å—Ç–≤–æ
‚Ä¢ **1007** - –ü—Ä–∞–≤–æ–≤–∞—è –ø–æ–º–æ—â—å

**‚ö° –ö–û–ú–ú–£–ù–ê–õ–¨–ù–´–ï –ê–í–ê–†–ò–ô–ù–´–ï –°–õ–£–ñ–ë–´:**
‚Ä¢ **1095** - –ñ–ö–• (–æ—Ç–æ–ø–ª–µ–Ω–∏–µ, –≤–æ–¥–∞)
‚Ä¢ **1096** - –≠–ª–µ–∫—Ç—Ä–æ—Å–µ—Ç–∏
‚Ä¢ **1097** - –ì–∞–∑–æ–≤–∞—è —Å–ª—É–∂–±–∞
‚Ä¢ **1098** - –í–æ–¥–æ–∫–∞–Ω–∞–ª

**üö® –ß–ï–†–ï–ó MULOQOT PLUS:**
‚Ä¢ –ñ–∞–ª–æ–±—ã –ø–æ–º–µ—á–∞—é—Ç—Å—è –∫–∞–∫ "–≠–ö–°–¢–†–ï–ù–ù–´–ï"
‚Ä¢ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–ª—É–∂–±
‚Ä¢ –£—Å–∫–æ—Ä–µ–Ω–Ω–æ–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–µ (24-48 —á–∞—Å–æ–≤)
‚Ä¢ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–π —Å—Ç–∞—Ç—É—Å –≤ —Å–∏—Å—Ç–µ–º–µ

**üè• –ú–ï–î–ò–¶–ò–ù–°–ö–ò–ï:**
‚Ä¢ **1129** - –¶–µ–Ω—Ç—Ä –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–π –ø–æ–º–æ—â–∏
‚Ä¢ **1130** - –ù–∞—Ä–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –ø–æ–º–æ—â—å  
‚Ä¢ **1131** - –î–µ—Ç—Å–∫–∞—è —ç–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è –ø–æ–º–æ—â—å

**‚öñÔ∏è –ü–†–ê–í–û–í–ê–Ø –ó–ê–©–ò–¢–ê:**
‚Ä¢ **1132** - –ó–∞—â–∏—Ç–∞ –ø—Ä–∞–≤ –∂–µ–Ω—â–∏–Ω
‚Ä¢ **1133** - –ü–æ–º–æ—â—å –ø–æ—Å—Ç—Ä–∞–¥–∞–≤—à–∏–º –æ—Ç –Ω–∞—Å–∏–ª–∏—è
‚Ä¢ **1134** - –ó–∞—â–∏—Ç–∞ –ø—Ä–∞–≤ –¥–µ—Ç–µ–π`;

      suggestions = [
        "üö® –ü–æ–¥–∞—Ç—å —ç–∫—Å—Ç—Ä–µ–Ω–Ω—É—é –∂–∞–ª–æ–±—É",
        "üìû –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Å–ª—É–∂–±",
        "üè• –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è –ø–æ–º–æ—â—å",
        "‚öñÔ∏è –ü—Ä–∞–≤–æ–≤–∞—è –∑–∞—â–∏—Ç–∞"
      ];
      commands = ["/urgent-complaint", "/all-services", "/medical", "/legal-protection"];
    }
    else if (message.includes("/help") || message.includes("–∫–æ–º–∞–Ω–¥—ã") || message.includes("–ø–æ–º–æ—â—å")) {
      response = `ü§ñ **–ü–û–õ–ù–´–ô –°–ü–ò–°–û–ö –ö–û–ú–ê–ù–î MULOQOTAI**

**üìã –û–°–ù–û–í–ù–´–ï –ö–û–ú–ê–ù–î–´:**
‚Ä¢ **/help** - –≠—Ç–æ—Ç —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥
‚Ä¢ **/status** - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å—ã –º–æ–∏—Ö –æ–±—Ä–∞—â–µ–Ω–∏–π
‚Ä¢ **/categories** - –í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∂–∞–ª–æ–±
‚Ä¢ **/districts** - –°–ø–∏—Å–æ–∫ —Ä–∞–π–æ–Ω–æ–≤
‚Ä¢ **/emergency** - –≠–∫—Å—Ç—Ä–µ–Ω–Ω—ã–µ —Å–ª—É–∂–±—ã

**‚öñÔ∏è –ü–†–ê–í–û–í–´–ï –ö–û–ú–ê–ù–î–´:**
‚Ä¢ **/legal** - –ü—Ä–∞–≤–æ–≤–∞—è –±–∞–∑–∞ –∏ –∑–∞—â–∏—Ç–∞ –ø—Ä–∞–≤
‚Ä¢ **/corruption** - –ë–æ—Ä—å–±–∞ —Å –∫–æ—Ä—Ä—É–ø—Ü–∏–µ–π
‚Ä¢ **/appeal** - –ö–∞–∫ –æ–±–∂–∞–ª–æ–≤–∞—Ç—å —Ä–µ—à–µ–Ω–∏—è
‚Ä¢ **/templates** - –û–±—Ä–∞–∑—Ü—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

**üí° –ò–ù–ò–¶–ò–ê–¢–ò–í–´:**
‚Ä¢ **/create-initiative** - –ü–æ–¥–∞—Ç—å –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤—É
‚Ä¢ **/top-initiatives** - –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤—ã
‚Ä¢ **/my-votes** - –ú–æ–∏ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è

**üìä –ê–ù–ê–õ–ò–¢–ò–ö–ê:**
‚Ä¢ **/mystats** - –ú–æ—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
‚Ä¢ **/rankings** - –†–µ–π—Ç–∏–Ω–≥–∏ –æ—Ä–≥–∞–Ω–æ–≤ –≤–ª–∞—Å—Ç–∏
‚Ä¢ **/predict** - –ü—Ä–æ–≥–Ω–æ–∑ –≤—Ä–µ–º–µ–Ω–∏ —Ä–µ—à–µ–Ω–∏—è

**üîß –ù–ê–°–¢–†–û–ô–ö–ò:**
‚Ä¢ **/notifications** - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
‚Ä¢ **/language** - –°–º–µ–Ω–∏—Ç—å —è–∑—ã–∫
‚Ä¢ **/profile** - –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å

**üéØ –£–ú–ù–´–ï –§–£–ù–ö–¶–ò–ò:**
‚Ä¢ –ü—Ä–æ—Å—Ç–æ –æ–ø–∏—à–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º—É - –ø–æ–ª—É—á–∏—Ç–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
‚Ä¢ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
‚Ä¢ AI –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏`;

      suggestions = [
        "üìã –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏",
        "‚öñÔ∏è –ü—Ä–∞–≤–æ–≤–∞—è –ø–æ–º–æ—â—å",
        "üí° –†–∞–±–æ—Ç–∞ —Å –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤–∞–º–∏",
        "üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è"
      ];
      commands = ["/status", "/legal", "/create-initiative", "/profile"];
    }
    else {
      // Advanced fallback with context analysis
      response = `ü§î **–Ø –∞–Ω–∞–ª–∏–∑–∏—Ä—É—é –≤–∞—à –∑–∞–ø—Ä–æ—Å...**

–ù–∞ –æ—Å–Ω–æ–≤–µ –≤–∞—à–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è, —è —Ä–µ–∫–æ–º–µ–Ω–¥—É—é:

**üéØ –í–æ–∑–º–æ–∂–Ω—ã–µ —Ç–µ–º—ã:**
‚Ä¢ –ï—Å–ª–∏ —ç—Ç–æ –∫–∞—Å–∞–µ—Ç—Å—è **–ø—Ä–æ–±–ª–µ–º—ã –≤ –≥–æ—Ä–æ–¥–µ** - –Ω–∞–∂–º–∏—Ç–µ "–ü–æ–¥–∞—Ç—å –∂–∞–ª–æ–±—É"
‚Ä¢ –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å **–∏–¥–µ—è –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è** - –Ω–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤—É"  
‚Ä¢ –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ **–ø—Ä–∞–≤–æ–≤–∞—è –ø–æ–º–æ—â—å** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ /legal
‚Ä¢ –ï—Å–ª–∏ **—ç–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ /emergency

**üí° –£–º–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏:**
–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –±–æ–ª–µ–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã:
‚Ä¢ "–ü—Ä–æ–±–ª–µ–º–∞ —Å –æ—Ç–æ–ø–ª–µ–Ω–∏–µ–º –≤ –¥–æ–º–µ"
‚Ä¢ "–•–æ—á—É –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ –ø–∞—Ä–∫–∞"
‚Ä¢ "–ö–∞–∫ –æ–±–∂–∞–ª–æ–≤–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ —Å—É–¥–∞"
‚Ä¢ "–ì–¥–µ –ø–æ–¥–∞—Ç—å –Ω–∞ –∫–æ—Ä—Ä—É–ø—Ü–∏—é"

**üîç –ü–æ–∏—Å–∫ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º:**
–Ø –ø–æ–Ω–∏–º–∞—é —Ç–µ–º—ã: –∂–∞–ª–æ–±—ã, –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤—ã, –ø—Ä–∞–≤–∞, –∫–æ—Ä—Ä—É–ø—Ü–∏—è, —Å—Ä–æ–∫–∏, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –∑–∞–∫–æ–Ω—ã, —ç–∫—Å—Ç—Ä–µ–Ω–Ω—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏.

–£—Ç–æ—á–Ω–∏—Ç–µ –≤–∞—à –≤–æ–ø—Ä–æ—Å, –∏ —è –¥–∞–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–æ–ª–µ–∑–Ω—ã–π –æ—Ç–≤–µ—Ç!`;

      suggestions = [
        "üìã –ü–æ–¥–∞—Ç—å –∂–∞–ª–æ–±—É",
        "üí° –°–æ–∑–¥–∞—Ç—å –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤—É",
        "‚öñÔ∏è –ü—Ä–∞–≤–æ–≤–∞—è –ø–æ–º–æ—â—å",
        "üö® –≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è",
        "üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã —Å–ª—É–∂–±",
        "‚ùì –°–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥"
      ];
      commands = ["/help", "/emergency", "/legal", "/categories"];
    }

    return {
      id: Date.now().toString(),
      content: response,
      isBot: true,
      timestamp: new Date(),
      suggestions,
      commands
    };
  };

  const handleCommand = (command: string): Message => {
    const cmd = command.toLowerCase();
    let response = "";
    let suggestions: string[] = [];

    switch (cmd) {
      case '/status':
        response = `üìä **–°—Ç–∞—Ç—É—Å –≤–∞—à–∏—Ö –æ–±—Ä–∞—â–µ–Ω–∏–π:**\n\n–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å—Ç–∞—Ç—É—Å–∞ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "–ú–æ–∏ –æ–±—Ä–∞—â–µ–Ω–∏—è" –∏–ª–∏ –≤–æ—Å–ø–æ–ª—å–∑—É–π—Ç–µ—Å—å –ø–æ–∏—Å–∫–æ–º –ø–æ –Ω–æ–º–µ—Ä—É.`;
        suggestions = ["–ü–µ—Ä–µ–π—Ç–∏ –∫ –æ–±—Ä–∞—â–µ–Ω–∏—è–º", "–ù–∞–π—Ç–∏ –ø–æ –Ω–æ–º–µ—Ä—É"];
        break;
      case '/categories':
        return generateAdvancedResponse("–∫–∞—Ç–µ–≥–æ—Ä–∏–∏");
      case '/emergency':
        return generateAdvancedResponse("/emergency");
      case '/legal':
        return generateAdvancedResponse("–ø—Ä–∞–≤–∞");
      default:
        response = `‚ùì –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞: ${command}\n\n–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ /help –¥–ª—è —Å–ø–∏—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ–º–∞–Ω–¥.`;
        suggestions = ["–ü–æ–∫–∞–∑–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã"];
    }

    return {
      id: Date.now().toString(),
      content: response,
      isBot: true,
      timestamp: new Date(),
      suggestions
    };
  };

  const handleSendMessage = async () => {
    if (!input.trim()) return;

    const userMessage: Message = {
      id: Date.now().toString(),
      content: input,
      isBot: false,
      timestamp: new Date()
    };

    setMessages(prev => [...prev, userMessage]);
    setInput("");
    setIsTyping(true);

    // Simulate typing delay for realism
    setTimeout(async () => {
      const botResponse = await generateAdvancedResponse(input);
      setMessages(prev => [...prev, botResponse]);
      setIsTyping(false);
    }, 1000);
  };

  const handleSuggestionClick = (suggestion: string) => {
    setInput(suggestion.replace(/^[üî•üìãüí°‚öñÔ∏èüö®üìû‚ùìüéØüìäüîßüèõÔ∏èüìàüì±‚ö°üó∫Ô∏èüì∏‚è∞]/g, '').trim());
  };

  if (!open) return null;

  return (
    <div className="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4">
      <Card className="w-full max-w-4xl h-[80vh] flex flex-col glass-effect border-primary/20">
        <CardHeader className="border-b border-border/50 flex-shrink-0">
          <div className="flex items-center justify-between">
            <div className="flex items-center space-x-3">
              <div className="relative">
                <Bot className="h-8 w-8 text-primary" />
                <Sparkles className="h-4 w-4 text-yellow-500 absolute -top-1 -right-1" />
              </div>
              <div>
                <CardTitle className="text-xl gradient-text">MuloqotAI Assistant</CardTitle>
                <p className="text-sm text-muted-foreground">
                  –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ —Å –±–∞–∑–æ–π –∑–Ω–∞–Ω–∏–π –óRU-445
                </p>
              </div>
            </div>
            <Button
              variant="ghost"
              size="sm"
              onClick={() => onOpenChange(false)}
              className="hover:bg-red-500/10 hover:text-red-500"
            >
              <X className="h-5 w-5" />
            </Button>
          </div>
        </CardHeader>

        <CardContent className="flex-1 flex flex-col p-0">
          <ScrollArea className="flex-1 p-4">
            <div className="space-y-4">
              {messages.map((message) => (
                <div
                  key={message.id}
                  className={`flex ${message.isBot ? "justify-start" : "justify-end"}`}
                >
                  <div
                    className={`max-w-[80%] rounded-2xl px-4 py-3 ${
                      message.isBot
                        ? "bg-card border border-border/50"
                        : "bg-primary text-primary-foreground"
                    }`}
                  >
                    <div className="flex items-center gap-2 mb-2">
                      {message.isBot ? (
                        <Bot className="h-4 w-4 text-primary flex-shrink-0" />
                      ) : (
                        <User className="h-4 w-4 flex-shrink-0" />
                      )}
                      <span className="text-xs text-muted-foreground">
                        {message.timestamp.toLocaleTimeString()}
                      </span>
                    </div>
                    
                    <div className="prose prose-sm max-w-none dark:prose-invert">
                      {message.content.split('\n').map((line, i) => (
                        <p key={i} className="mb-2 last:mb-0 whitespace-pre-wrap">
                          {line}
                        </p>
                      ))}
                    </div>

                    {message.suggestions && message.suggestions.length > 0 && (
                      <div className="mt-3 flex flex-wrap gap-2">
                        {message.suggestions.map((suggestion, i) => (
                          <Button
                            key={i}
                            variant="secondary"
                            size="sm"
                            onClick={() => handleSuggestionClick(suggestion)}
                            className="text-xs h-7 hover:bg-primary/10"
                          >
                            {suggestion}
                          </Button>
                        ))}
                      </div>
                    )}

                    {message.commands && message.commands.length > 0 && (
                      <div className="mt-3 space-y-1">
                        <p className="text-xs text-muted-foreground">–ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã:</p>
                        {message.commands.map((command, i) => (
                          <code
                            key={i}
                            className="block text-xs bg-muted/50 px-2 py-1 rounded cursor-pointer hover:bg-muted"
                            onClick={() => setInput(command.split(' ')[0])}
                          >
                            {command}
                          </code>
                        ))}
                      </div>
                    )}
                  </div>
                </div>
              ))}

              {isTyping && (
                <div className="flex justify-start">
                  <div className="bg-card border border-border/50 rounded-2xl px-4 py-3">
                    <div className="flex items-center gap-2">
                      <Bot className="h-4 w-4 text-primary" />
                      <div className="flex space-x-1">
                        <div className="w-2 h-2 bg-primary rounded-full animate-bounce"></div>
                        <div className="w-2 h-2 bg-primary rounded-full animate-bounce delay-100"></div>
                        <div className="w-2 h-2 bg-primary rounded-full animate-bounce delay-200"></div>
                      </div>
                    </div>
                  </div>
                </div>
              )}
            </div>
            <div ref={messagesEndRef} />
          </ScrollArea>

          <div className="border-t border-border/50 p-4">
            <div className="flex space-x-2">
              <Input
                value={input}
                onChange={(e) => setInput(e.target.value)}
                placeholder="–ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, /help)..."
                onKeyDown={(e) => e.key === "Enter" && handleSendMessage()}
                className="flex-1"
              />
              <Button
                onClick={handleSendMessage}
                disabled={!input.trim() || isTyping}
                className="gradient-primary text-white"
              >
                <Send className="h-4 w-4" />
              </Button>
            </div>
            <p className="text-xs text-muted-foreground mt-2 text-center">
              –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—ã (/help) –∏–ª–∏ –æ–ø–∏—à–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º—É –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–º —è–∑—ã–∫–æ–º
            </p>
          </div>
        </CardContent>
      </Card>
    </div>
  );
}